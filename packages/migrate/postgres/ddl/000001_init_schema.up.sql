CREATE TABLE "User" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "first_name" VARCHAR(100) NOT NULL,
  "last_name" VARCHAR(100) NOT NULL,
  "email" VARCHAR(50) UNIQUE NOT NULL,
  "birthday" timestamptz NOT NULL,
  "current_weight" FLOAT8 NOT NULL,
  "goal_weight" FLOAT8 NOT NULL,
  "height" FLOAT8 NOT NULL,
  "gender" bool DEFAULT true,
  "password" VARCHAR(255) NOT NULL
);

CREATE TABLE "Diary" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "content" text NOT NULL,
  "user_id" integer NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "Exercise" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "type" SMALLINT NOT NULL,
  "rate" FLOAT8 NOT NULL,
  "name" VARCHAR(255) NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "Meal_History" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "date" timestamptz NOT NULL,
  "session" SMALLINT NOT NULL,
  "user_id" integer NOT NULL,
  "image_url" VARCHAR NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "Exercise_History" (
  "date" timestamptz NOT NULL,
  "user_id" integer NOT NULL,
  "exercise_id" integer NOT NULL,
  "calories_burned" integer NOT NULL,
  "timer" integer NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "News_Category" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" VARCHAR(255) NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "Tag" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" VARCHAR(255) NOT NULL
);

CREATE TABLE "News" (
  "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "title" VARCHAR(255) NOT NULL,
  "image_url" VARCHAR(255) NOT NULL,
  "content" text NOT NULL,
  "category_id" integer NOT NULL,
  "created_at" timestamptz NOT NULL DEFAULT (now()),
  "updated_at" timestamptz NOT NULL DEFAULT (now())
);

CREATE TABLE "News_Tag" (
  "news_id" integer NOT NULL,
  "tag_id" integer NOT NULL
);

CREATE INDEX ON "Exercise_History" ("user_id");

CREATE INDEX ON "Exercise_History" ("exercise_id");

CREATE INDEX ON "Exercise_History" ("user_id", "exercise_id");

CREATE INDEX ON "News_Tag" ("news_id");

CREATE INDEX ON "News_Tag" ("tag_id");

CREATE INDEX ON "News_Tag" ("news_id", "tag_id");

ALTER TABLE "Diary" ADD FOREIGN KEY ("user_id") REFERENCES "User" ("ID");

ALTER TABLE "Meal_History" ADD FOREIGN KEY ("user_id") REFERENCES "User" ("ID");

ALTER TABLE "Exercise_History" ADD FOREIGN KEY ("user_id") REFERENCES "User" ("ID");

ALTER TABLE "Exercise_History" ADD FOREIGN KEY ("exercise_id") REFERENCES "Exercise" ("ID");

ALTER TABLE "News" ADD FOREIGN KEY ("category_id") REFERENCES "News_Category" ("ID");

ALTER TABLE "News_Tag" ADD FOREIGN KEY ("news_id") REFERENCES "News" ("ID");

ALTER TABLE "News_Tag" ADD FOREIGN KEY ("tag_id") REFERENCES "Tag" ("ID");

INSERT INTO "public"."User" ("ID","first_name","last_name","email","birthday","current_weight","goal_weight","height","gender","password") VALUES ('1','david','tommy','david@gmail.com','1997-04-03 00:00:00+00','76','50','175','FALSE','1234567');
INSERT INTO "public"."User" ("ID","first_name","last_name","email","birthday","current_weight","goal_weight","height","gender","password") VALUES ('2','John','Doe','johndoe@example.com','1990-01-01 00:00:00+00','80','70','1.8','TRUE','password123');
INSERT INTO "public"."User" ("ID","first_name","last_name","email","birthday","current_weight","goal_weight","height","gender","password") VALUES ('3','Jane','Doe','janedoe@example.com','1995-02-15 00:00:00+00','65','60','1.6','FALSE','password456');

INSERT INTO "public"."Tag" ("ID","name") VALUES ('1','Football');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('2','Basketball');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('3','Music');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('4','Gaming');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('5','Exercise');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('6','Healthy eating');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('7','Weight loss');
INSERT INTO "public"."Tag" ("ID","name") VALUES ('8','Fitness tips');

INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('1','1','200','Seated leg press','2023-03-11 11:50:22.33377+00','2023-03-11 11:50:22.33377+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('2','2','400','Seated shoulder press ','2023-03-11 11:50:56.165265+00','2023-03-11 11:50:56.165265+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('3','1','300','Close grip lat pulldown','2023-03-11 11:51:36.89591+00','2023-03-11 11:51:36.89591+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('8','1','8','Running','2023-03-11 12:40:31.850877+00','2023-03-11 12:40:31.850877+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('9','2','6','Cycling','2023-03-11 12:40:31.850877+00','2023-03-11 12:40:31.850877+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('10','3','4','Walking','2023-03-11 12:40:31.850877+00','2023-03-11 12:40:31.850877+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('11','1','5.5','Jogging','2023-03-11 12:41:42.799602+00','2023-03-11 12:41:42.799602+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('12','2','8','Cycling','2023-03-11 12:41:42.799602+00','2023-03-11 12:41:42.799602+00');
INSERT INTO "public"."Exercise" ("ID","type","rate","name","created_at","updated_at") VALUES ('13','3','10','Swimming','2023-03-11 12:41:42.799602+00','2023-03-11 12:41:42.799602+00');

INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-12 11:50:22.33377+00','1','1','36','3','2023-03-11 11:55:56.608931+00','2023-03-11 11:55:56.608931+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-11 11:50:22.33377+00','1','2','400','30','2023-03-11 11:56:50.726346+00','2023-03-11 11:56:50.726346+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-13 11:50:22.33377+00','1','2','400','30','2023-03-11 11:57:36.353203+00','2023-03-11 11:57:36.353203+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-14 11:50:22.33377+00','1','3','400','30','2023-03-11 11:57:36.368482+00','2023-03-11 11:57:36.368482+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-15 11:50:22.33377+00','1','1','400','30','2023-03-11 11:57:36.370769+00','2023-03-11 11:57:36.370769+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-11 11:50:22.33377+00','1','2','400','30','2023-03-11 11:57:36.372746+00','2023-03-11 11:57:36.372746+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-12 11:50:22.33377+00','1','3','400','30','2023-03-11 11:57:36.374766+00','2023-03-11 11:57:36.374766+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-13 11:50:22.33377+00','1','2','400','30','2023-03-11 11:57:36.37654+00','2023-03-11 11:57:36.37654+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-11 10:00:00+00','1','1','300','30','2023-03-11 12:40:31.855904+00','2023-03-11 12:40:31.855904+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-11 14:00:00+00','1','2','200','60','2023-03-11 12:40:31.855904+00','2023-03-11 12:40:31.855904+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-11 16:00:00+00','1','3','100','30','2023-03-11 12:40:31.855904+00','2023-03-11 12:40:31.855904+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-10 09:00:00+00','1','1','200','30','2023-03-11 12:42:01.303053+00','2023-03-11 12:42:01.303053+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-10 13:00:00+00','1','2','300','45','2023-03-11 12:42:01.303053+00','2023-03-11 12:42:01.303053+00');
INSERT INTO "public"."Exercise_History" ("date","user_id","exercise_id","calories_burned","timer","created_at","updated_at") VALUES ('2023-03-10 17:00:00+00','2','3','400','60','2023-03-11 12:42:01.303053+00','2023-03-11 12:42:01.303053+00');


INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('1','2023-03-11 08:00:00+00','1','1','https://example.com/meal1.jpg','2023-03-11 12:40:31.852714+00','2023-03-11 12:40:31.852714+00');
INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('2','2023-03-11 12:00:00+00','2','1','https://example.com/meal2.jpg','2023-03-11 12:40:31.852714+00','2023-03-11 12:40:31.852714+00');
INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('3','2023-03-11 18:00:00+00','3','1','https://example.com/meal3.jpg','2023-03-11 12:40:31.852714+00','2023-03-11 12:40:31.852714+00');
INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('4','2023-03-10 12:30:00+00','1','1','https://example.com/meal1.jpg','2023-03-11 12:41:51.180752+00','2023-03-11 12:41:51.180752+00');
INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('5','2023-03-10 18:00:00+00','2','1','https://example.com/meal2.jpg','2023-03-11 12:41:51.180752+00','2023-03-11 12:41:51.180752+00');
INSERT INTO "public"."Meal_History" ("ID","date","session","user_id","image_url","created_at","updated_at") VALUES ('6','2023-03-10 19:30:00+00','3','2','https://example.com/meal3.jpg','2023-03-11 12:41:51.180752+00','2023-03-11 12:41:51.180752+00');

INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('1','Sports','2023-03-11 12:40:31.858144+00','2023-03-11 12:40:31.858144+00');
INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('2','Entertainment','2023-03-11 12:40:31.858144+00','2023-03-11 12:40:31.858144+00');
INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('3','Technology','2023-03-11 12:40:31.858144+00','2023-03-11 12:40:31.858144+00');
INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('4','Health','2023-03-11 12:42:14.881373+00','2023-03-11 12:42:14.881373+00');
INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('5','Fitness','2023-03-11 12:42:14.881373+00','2023-03-11 12:42:14.881373+00');
INSERT INTO "public"."News_Category" ("ID","name","created_at","updated_at") VALUES ('6','Nutrition','2023-03-11 12:42:14.881373+00','2023-03-11 12:42:14.881373+00');

INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('1','Football Championship','https://example.com/football.jpg','The team won the championship!','1','2023-03-11 12:40:31.863576+00','2023-03-11 12:40:31.863576+00');
INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('2','New Album Release','https://example.com/music.jpg','The artist released a new album!','2','2023-03-11 12:40:31.863576+00','2023-03-11 12:40:31.863576+00');
INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('3','New Gaming Console','https://example.com/gaming.jpg','The new gaming console is now available for purchase!','3','2023-03-11 12:40:31.863576+00','2023-03-11 12:40:31.863576+00');
INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('4','5 Benefits of Regular Exercise','https://example.com/news1.jpg','Regular exercise has numerous health benefits, including improving heart health and reducing the risk of chronic diseases.','2','2023-03-11 12:42:14.88927+00','2023-03-11 12:42:14.88927+00');
INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('5','10 Healthy Foods to Add to Your Diet','https://example.com/news2.jpg','Eating a balanced diet is essential for good health. Here are 10 healthy foods to add to your diet.','3','2023-03-11 12:42:14.88927+00','2023-03-11 12:42:14.88927+00');
INSERT INTO "public"."News" ("ID","title","image_url","content","category_id","created_at","updated_at") VALUES ('6','How to Stay Motivated to Exercise','https://example.com/news3.jpg','Staying motivated to exercise can be challenging, but there are several strategies you can use to stay on track.','2','2023-03-11 12:42:14.88927+00','2023-03-11 12:42:14.88927+00');


INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('1','1');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('1','2');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('2','3');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('3','4');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('1','1');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('1','2');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('2','3');
INSERT INTO "public"."News_Tag" ("news_id","tag_id") VALUES ('3','4');

INSERT INTO "public"."Diary" ("ID","content","user_id","created_at","updated_at") VALUES ('1','Today was a good day!','1','2023-03-11 12:40:31.848111+00','2023-03-11 12:40:31.848111+00');
INSERT INTO "public"."Diary" ("ID","content","user_id","created_at","updated_at") VALUES ('2','I had a tough day today, but I managed to get through it!','2','2023-03-11 12:41:32.888601+00','2023-03-11 12:41:32.888601+00');
INSERT INTO "public"."Diary" ("ID","content","user_id","created_at","updated_at") VALUES ('3','Feeling a little bit sore from yesterday  workout','3','2023-03-11 12:41:32.888601+00','2023-03-11 12:41:32.888601+00');